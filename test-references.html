<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Supplier Reference Management</title>

    <style>
        body {
            font-family: Arial, sans-serif;
        }
        .supplier-reference-item {
            display: flex;
            align-items: center;
            gap: 12px;
            margin: 8px 0;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 6px;
        }
        .supplier-name {
            flex: 1;
            font-weight: bold;
        }
        input[type="time"] {
            padding: 4px;
        }
        button {
            padding: 6px 12px;
            cursor: pointer;
        }
    </style>
</head>
<body>

<h1>Supplier Reference (LocalStorage Version)</h1>

<div id="supplier-reference-list"></div>

<script>
    const STORAGE_KEY = 'supplier_references';

    const allSuppliers = [
        'PT. TENMA INDONESIA',
        'PT. INOAC POLYTHECNO INDONESIA',
        'PT. SIGMA INTI PRESISI',
        'PT. ATEJA KAWASHIMA',
        'PT. YKK ZIPPER INDONESIA',
        'PT. SEIREN INDONESIA',
        'PT. SINAR SUMINOE',
        'PT. NISSHO INDUSTRI INDONESIA',
        'PT. ENDOTA SINAR INDONESIA',
        'PT. PRIMARAYA GRAHA NUSANTARA',
        'PT. TOYO QUALITY ONE',
        'PT. ARMSTRONG INDONESIA',
        'PT. MEIWA',
        'PT. RAJAWALI MITRA PRATAMA',
        'PT. MEIHOKU',
        'PT. SERVVO INDONESIA',
        'PT. INDAH VARIA EKA SELARAS',
        'PT. BONECOM TRICOM (TEGAL)'
    ];

    let supplierReferences =
        JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};

    const list = document.getElementById('supplier-reference-list');

    function render() {
        list.innerHTML = '';

        allSuppliers.forEach(supplier => {
            const row = document.createElement('div');
            row.className = 'supplier-reference-item';

            row.innerHTML = `
                <div class="supplier-name">${supplier}</div>
                <input type="time" id="ref-${encodeURIComponent(supplier)}"
                       value="${supplierReferences[supplier] || ''}">
                <button onclick="saveReference('${supplier}')">Simpan</button>
            `;

            list.appendChild(row);
        });
    }

    function saveReference(supplier) {
        const input = document.getElementById(
            `ref-${encodeURIComponent(supplier)}`
        );

        if (!input.value) {
            alert('Pilih waktu dulu');
            return;
        }

        supplierReferences[supplier] = input.value;
        localStorage.setItem(STORAGE_KEY, JSON.stringify(supplierReferences));

        alert(`âœ… ${supplier} disimpan`);
    }

    window.saveReference = saveReference;
    render();
</script>

</body>
</html>
